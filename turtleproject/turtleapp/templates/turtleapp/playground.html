{% extends 'main/nav_bar.html' %}
{% load static %}

{% block params %}
    <title>Песочница</title>
    <link href="{% static 'turtleapp/css/playground.css' %}" rel="stylesheet" type="text/css"/>

    <script src="{% static 'works/js/save_button.js' %}"></script>
    <script src="{% static 'turtleapp/js/playground.js' %}"></script>
{% endblock %}

{% block content %}
    <div class="sandbox-container">
        <h1>Песочница</h1>

        <!-- Контейнер для редактора кода и результата -->
        <div class="sandbox-content">
            <div class="code-editor">
                <div class="line-numbers-container">
                    <div class="line-numbers" id="line-numbers"></div>
                </div>
                <textarea id="code-input" placeholder="Введите ваш код..." spellcheck="false"></textarea>
            </div>

            <div class="output">
                <canvas id="turtle-canvas" width="700" height="500"></canvas>
                <div id="error-message" class="error-message"></div>
            </div>
        </div>

        <!-- Кнопки управления -->
        <div class="controls">
            <button id="run-button" class="control-button">Запустить</button>
            <button id="clear-button" class="control-button">Очистить</button>
            <button id="save-button" class="control-button">Сохранить</button>
        </div>
    </div>

    <!-- Модальное окно -->
    <div id="save-modal" class="modal">
        <div class="modal-content">
            <span class="close-modal">&times;</span>
            <div id="auth-message" class="auth-message">
                <p>Зарегистрированные пользователи могут сохранять работы в своём профиле.</p>
                <a href="{% url 'entrance' %}" class="control-button">Войти</a>
                <a href="{% url 'registration' %}" class="control-button">Зарегистрироваться</a>

                <div class="divider">ИЛИ</div>

                <button id="download-button" class="control-button">Скачать изображение</button>
            </div>

            <div id="save-form" class="save-form">
                <label for="work-title">Название работы:</label>
                <input type="text" id="work-title" name="work-title" placeholder="Введите название" required>
                <div id="title-error" class="error-text">Название не может быть пустым или состоять только из пробелов</div>
                <button id="confirm-save" class="control-button">Сохранить</button>
            </div>
        </div>
    </div>
{% endblock %}



